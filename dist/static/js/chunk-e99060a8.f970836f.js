(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e99060a8"],{"1e6e":function(t,e,a){"use strict";a("d3be")},"34e0":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"注意",type:"info",closable:!1,description:"工资数据由系统自动计算生成，无法手动修改"}}),a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"输入教师ID",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.teacherId,callback:function(e){t.$set(t.listQuery,"teacherId",e)},expression:"listQuery.teacherId"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px","margin-right":"10px"},attrs:{type:"month",placeholder:"选择月份",format:"yyyy-MM","value-format":"yyyy-MM"},model:{value:t.listQuery.month,callback:function(e){t.$set(t.listQuery,"month",e)},expression:"listQuery.month"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" 查询 ")]),a("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-refresh"},on:{click:t.resetFilter}},[t._v(" 重置 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"teacher-table",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.list,"element-loading-text":"数据加载中",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"teacherId",align:"center",label:"教师ID","min-width":"90",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",[t._v(t._s(l.teacherId))])]}}])}),a("el-table-column",{attrs:{label:"月份",align:"center","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",[t._v(t._s(l.month))])]}}])}),a("el-table-column",{attrs:{label:"总工时(小时)",align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",{staticClass:"fee-cell"},[t._v(t._s(l.totalHours.toFixed(2)))])]}}])}),a("el-table-column",{attrs:{label:"总金额(元)",align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("span",{staticClass:"fee-cell"},[t._v("¥ "+t._s(l.totalAmount.toFixed(2)))])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"20px","text-align":"left"},attrs:{background:"","current-page":t.listQuery.pageNum,"page-sizes":[10,20,50,100],"page-size":t.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},i=[],n=a("5530"),r=(a("d3b7"),a("99af"),a("b775"));function s(t){return Object(r["a"])({url:"/salaries",method:"get",params:t})}var o={name:"SalaryManagement",data:function(){return{list:[],listLoading:!1,total:0,listQuery:{pageNum:1,pageSize:10,teacherId:null,month:null}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0;var e=Object(n["a"])({},this.listQuery);s(e).then((function(e){var a,l;2e4===e.code?(t.list=(null===(a=e.data)||void 0===a||null===(a=a.page)||void 0===a?void 0:a.records)||[],t.total=(null===(l=e.data)||void 0===l||null===(l=l.page)||void 0===l?void 0:l.total)||0):t.$message.error(e.message||"获取数据失败")})).catch((function(e){console.error("获取工资数据失败:",e),t.$message.error("获取数据失败: "+(e.message||"请稍后重试"))})).finally((function(){t.listLoading=!1}))},handleFilter:function(){this.listQuery.pageNum=1,this.fetchData()},resetFilter:function(){this.listQuery={pageNum:1,pageSize:10,teacherId:null,month:null},this.fetchData()},handleSizeChange:function(t){this.listQuery.pageSize=t,this.fetchData()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.fetchData()}}},c=o,u=(a("1e6e"),a("2877")),d=Object(u["a"])(c,l,i,!1,null,"03f44c38",null);e["default"]=d.exports},d3be:function(t,e,a){}}]);